# ğŸ’° Desafio TÃ©cnico - API de Carteira

## ğŸ“„ Resumo

Esta API Ã© responsÃ¡vel por processar **transaÃ§Ãµes em carteiras de usuÃ¡rios**, controlando o **saldo atual** com base em **valores positivos (crÃ©dito)** e **negativos (dÃ©bito)**.

O sistema jÃ¡ contÃ©m dois endpoints para as operaÃ§Ãµes necessÃ¡rias, **onde os contratos nÃ£o poderÃ£o ser alterados**

---

## ğŸ”— Endpoints disponÃ­veis

### âœ… Consultar saldo
```bash
curl --location 'http://localhost:8080/amount?userId=1'
```

### âœ… Processar transaÃ§Ã£o
```bash
curl --location 'http://localhost:8080/transaction' \
  --header 'Content-Type: application/json' \
  --data '{
      "userId": 1,
      "amount": 10.0
  }'
curl --location 'http://localhost:8080/transaction' \
  --header 'Content-Type: application/json' \
  --data '{
      "userId": 1,
      "amount": -10.0
  }'
```

- O campo `amount` pode ser **positivo (crÃ©dito)** ou **negativo (dÃ©bito)**.
- O parÃ¢metro `userId` representa o usuÃ¡rio (definidos na `InputDataSource`).

---

## ğŸ“œ Regras

- âŒ **NÃ£o Ã© permitido** adicionar bibliotecas que dependam de recursos externos (bancos de dados externos, redis, filas, etc.).
- âœ… O projeto **deve rodar e buildar localmente** sem necessidade de imagens Docker ou infra-estrutura externa.
- âš ï¸ **NÃ£o alterar a classe `InputDataSource`** (pode apenas movÃª-la de local, se necessÃ¡rio).
- âš ï¸ Os testes serÃ£o feitos **somente com os usuÃ¡rios jÃ¡ presentes** na `InputDataSource`.
- âš ï¸ Os **contratos dos endpoints (controllers)** nÃ£o podem ser alterados (path, parÃ¢metros, payload).
- âœ… As classes internas podem ser **refatoradas ou reorganizadas**, desde que os endpoints mantenham o mesmo comportamento esperado.
- âŒ Carteiras do **ITAU nÃ£o podem ficar com saldo negativo**. Caso ocorra, a transaÃ§Ã£o deve ser recusada e uma **mensagem de erro retornada**.
- âœ… Carteiras do **SANTANDER PODEM ficar com saldo negativo e positivo**.

---

## ğŸ§ª O que serÃ¡ avaliado

- Boas prÃ¡ticas e arquitetura de cÃ³digo (ex: separaÃ§Ã£o de responsabilidades, patterns, clareza e reutilizaÃ§Ã£o)
- Qualidade e viabilidade das soluÃ§Ãµes propostas
- Capacidade de resolver problemas
- Testes unitÃ¡rios (inclua casos relevantes para sua implementaÃ§Ã£o)
- Commits realizados durante o teste

---

## âš™ï¸ Testando sua soluÃ§Ã£o

O projeto jÃ¡ contÃ©m um script utilitÃ¡rio (`script.sh`) que simula mÃºltiplas transaÃ§Ãµes. VocÃª pode usÃ¡-lo para testar as regras de negÃ³cio:

```bash
chmod +x script.sh
./script.sh
```

---

## ğŸš€ Desafio Adicional (opcional)

Caso queira ir alÃ©m, vocÃª pode implementar uma **simulaÃ§Ã£o de envio de SMS** para casos de transaÃ§Ãµes recusadas por falta de saldo.

### CenÃ¡rio:
- Se uma **transaÃ§Ã£o for recusada** por falta de saldo (dÃ©bito insuficiente), o sistema deve tentar **notificar o usuÃ¡rio via SMS**.
- O serviÃ§o de SMS **conhece apenas o ID do usuÃ¡rio** (nÃ£o Ã© necessÃ¡rio fornecer nÃºmero de telefone).

VocÃª pode descrever essa soluÃ§Ã£o em:
- Texto explicativo
- Diagrama de arquitetura
- CÃ³digo comentado ou simulado (mock)

**Nota**: Este item nÃ£o serÃ¡ testado automaticamente, mas poderÃ¡ ser discutido em uma etapa futura do processo seletivo.

---

Boa sorte! ğŸ€